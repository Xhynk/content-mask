jQuery(document).ready(function(a){function b(c,d){a('.toplevel_page_content-mask #wpbody .wrap > h2').after('<div class="content-mask-message notice notice-'+c+'"><p>'+d+'</p></div>')}a('#content_mask_meta_box [name="content_mask_method"]').on('change',function(){'download'==a(this).val()?a('.content-mask-expiration-div').fadeIn():a('.content-mask-expiration-div').fadeOut()}),a('#content-mask-list td.cache-expires').on('click','a',function(){a('.content-mask-message').remove();var c=a(this),d=c.closest('tr').find('td.mask-url a').attr('href'),e=c.attr('data-transient'),f=c.closest('tr').attr('data-attr-id'),g=c.closest('tr').find('td.mask-url a').text(),h=c.attr('data-expiration'),i=c.closest('tr').find('td.method div'),j=c.attr('data-expiration-readable');i.addClass('content-mask-reloading');return a.post(ajaxurl,{action:'refresh_transient',postID:f,expiration:h,transient:e,maskURL:d},function(l){a('.content-mask-message').remove();var m;200==l.status?(a('.content-mask-table-body tr td.cache-expires').each(function(){a(this).closest('tr').find('td.mask-url a').text()==g&&a(this).find('.transient-expiration').text(j)}),m='info'):(400==l.status||403==l.status)&&(m='error'),i.removeClass('content-mask-reloading'),b(m,l.message)},'json'),!1}),a('#content-mask-list .content-mask-table-body, #the-list .column-content-mask').on('click','.method svg, .content-mask-method svg',function(){var c=a(this),d=c.attr('class');if(c.closest('td').hasClass('method'))var e=c.closest('tr').attr('data-attr-id'),f=c.closest('tr');else var e=c.closest('tr').attr('id').replace('post-',''),f=c.closest('.content-mask-method');var g=f.attr('data-attr-state'),h='enabled'==g?'disabled':'enabled';c.closest('div').attr('class','content-mask-reloading');a.post(ajaxurl,{action:'toggle_content_mask',postID:e,newState:h,currentState:g},function(j){a('.content-mask-message').remove();var k;200==j.status?(c.attr('class',d),f.attr('data-attr-state',h).toggleClass('disabled enabled'),k='info'):(400==j.status||403==j.status)&&(k='error'),c.closest('div').removeClass('content-mask-reloading'),b(k,j.message)},'json')}),a('#content-mask-options .content-mask-checkbox').on('click','.content-mask-check',function(){var c=a(this).closest('.content-mask-checkbox'),d=c.attr('data-attr');c.closest('.content-mask-option').addClass('content-mask-reloading'),a.post(ajaxurl,{action:'toggle_visitor_tracking',currentState:d},function(f){a('.content-mask-message').remove(),200==f.status?classes='info':(400==f.status||403==f.status)&&(classes='error'),a('#content-mask-list').removeClass('tracking-enabled tracking-disabled'),a('#content-mask-list').addClass('tracking-'+f.newState),c.closest('.content-mask-option').removeClass('content-mask-reloading'),c.closest('.content-mask-option').find('.content-mask-value').text(f.newState),c.attr('data-attr',f.newState),b(classes,f.message)},'json')}),a('#content-mask-list .content-mask-table-body').scroll(function(){var c=a(this),d=a(this).find('tbody');if(!c.hasClass('currently-loading')&&20<=a(d).find('tr').length&&'No More Content Masks Found'!=a(d).find('tr:last-child div').text()&&a(this)[0].scrollHeight-a(this).scrollTop()<=a(this).outerHeight()){c.addClass('currently-loading'),a(d).append('<tr style="position: absolute; bottom: -40px; width: calc(100% - 18px);" class="content-mask-temp"><td><div class="content-mask-spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div></div></td></tr>');var e={action:'load_more_pages',offset:a(d).find('tr').length};a.ajax({url:ajaxurl,data:e,type:'POST',dataType:'json',success:function(f){a('.content-mask-temp').html('<h2><strong>Loading Completed.</strong></h2>'),a(d).append(f.message),setTimeout(function(){a('.content-mask-temp').fadeOut(),c.removeClass('currently-loading')},250)}})}}),a('#content_mask_enable').is(':checked')&&a('#postdivrich').css({height:0,overflow:'hidden'}).addClass('hide-overflow'),a('#content_mask_enable').click(function(){a(this).is(':checked')||(a('#postdivrich').animate({height:416,overflow:'visible'}).removeClass('hide-overflow'),a('.gutenberg').addClass('content-mask-unchecked'),a('.gutenberg .edit-post-visual-editor, .gutenberg .edit-post-text-editor').fadeIn(),a('.content-mask-notice').fadeOut())})}),jQuery(window).load(function(){jQuery(document).ready(function(a){if(0<a('.content-mask-enabled-page .override-gutenberg-notice').length){var b=a('.override-gutenberg-notice').html();a('.components-notice-list').prepend('<div class="notice notice-alt content-mask-notice notice-info">'+b+'</div>')}})});